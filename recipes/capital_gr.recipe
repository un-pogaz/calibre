from calibre.web.feeds.recipes import BasicNewsRecipe


class Capital(BasicNewsRecipe):
    title = 'Capital.gr'
    __author__ = 'Stelios'
    description = 'Financial News from Greece'
    oldest_article = 3
    publisher = 'Capital.gr'
    category = 'news, GR'
    language = 'el'
    encoding = 'windows-1253'
    cover_url = 'http://files.capital.gr/images/caplogo.gif'
    no_stylesheets = True
    use_embedded_content = False
    remove_empty_feeds = True
    keep_only_tags = [
        dict(name='h1'),
        dict(name='p'),
        dict(name='span', attrs={'id': ["textbody"]})
    ]

# 3 posts seemed to have utf8 encoding
    feeds = [
        ('ΟΛΕΣ ΟΙ ΕΙΔΗΣΕΙΣ',
         'http://www.capital.gr/news/newsrss.asp?s=-1'),
        ('ΕΠΙΧΕΙΡΗΣΕΙΣ',
         'http://www.capital.gr/news/newsrss.asp?s=-2'),
        ('ΑΓΟΡΕΣ',
         'http://www.capital.gr/news/newsrss.asp?s=-3'),
        ('ΟΙΚΟΝΟΜΙΑ',
         'http://www.capital.gr/news/newsrss.asp?s=-4'),
        ('ΧΡΗΜ. ΑΝΑΚΟΙΝΩΣΕΙΣ',
         'http://www.capital.gr/news/newsrss.asp?s=-6'),
        ('Μόνιμες στήλες: ΜΕ ΑΠΟΨΗ',
         'http://www.capital.gr/articles/articlesrss.asp?catid=4'),
        ('Μόνιμες στήλες: ΣΙΩΠΗΤΗΡΙΟ',
         'http://www.capital.gr/articles/articlesrss.asp?catid=6'),
        ('Μόνιμες στήλες: ΠΙΣΩ ΑΠΟ ΤΙΣ ΓΡΑΜΜΕΣ',  # noqa
         'http://www.capital.gr/articles/articlesrss.asp?catid=8'),
    ]
