#!/usr/bin/env python
# vim:fileencoding=utf-8

from calibre.web.feeds.news import BasicNewsRecipe


class KnifeMedia(BasicNewsRecipe):
    title = 'Нож'
    __author__ = 'bugmen00t'
    description = 'Интеллектуальный журнал о культуре и обществе'  # noqa
    publisher = 'Михаил Цыган, Татьяна Коэн'
    category = 'blog'
    cover_url = 'https://knife.media/feature/pdd/img/knife_logo.33a98aee.svg'
    language = 'ru'
    no_stylesheets = False
    remove_javascript = False
    auto_cleanup = False
    oldest_article = 14
    max_articles_per_feed = 30

    remove_tags_before = dict(name='div', attrs={'class': 'entry-header'})

    remove_tags_after = dict(name='div', attrs={'class': 'entry-content'})

    remove_tags = [
        dict(name='aside'),
        dict(name='div', attrs={'class': 'entry-header__share share'}),
        dict(name='div', attrs={'class': 'entry-comments'}),
        dict(name='div', attrs={'class': 'entry-footer'}),
        dict(name='div', attrs={'class': 'entry-bottom'}),
        dict(name='figure', attrs={'class': 'figure figure--similar'})
    ]

    feeds = [(
        'Лонгриды',
        'https://knife.media/category/longreads/feed/'
    ),
             (
                 'Новости',
                 'https://knife.media/category/news/feed/'
             )]
