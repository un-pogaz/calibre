#!/usr/bin/env python
# vim:fileencoding=utf-8

from calibre.web.feeds.news import BasicNewsRecipe


class Gorky(BasicNewsRecipe):
    title                 = 'Горький'
    __author__            = 'bugmen00t'
    description           = 'Некоммерческий проект о книгах и чтении.'  # noqa
    publisher             = 'АНО "Центр по содействию развития культуры чтения и книгоиздания «Горький Медиа»"'  # noqa
    category              = 'blog'
    cover_url = 'https://gorky.media/wp-content/uploads/2016/09/gorky.png'
    language              = 'ru'
    no_stylesheets        = False
    remove_javascript = False
    auto_cleanup   = False
    oldest_article = 30
    max_articles_per_feed = 30

    remove_tags_before = dict(name='div', attrs={'id': 'td-outer-wrap'})

    remove_tags_after = dict(name='footer')

    remove_tags =   [
        dict(name='footer'),
        dict(name='nav', attrs={'class': 'navbar'}),
        dict(name='div', attrs={'class': 'hide'}),
        dict(name='div', attrs={'class': 'nav-new'}),
        dict(name='div', attrs={'class': 'top-panel '}),
        dict(name='div', attrs={'class': 'panel-nav'}),
        dict(name='div', attrs={'class': 'panel-nav _hide'}),
        dict(name='ul', attrs={'class': 'top-panel__bottom buttons-list _share'}),
        dict(name='ul', attrs={'class': 'buttons-list _share d_lg-none'})
        ]

    feeds = [
        ('Рецензии', 'https://gorky.media/reviews/feed/'),
        ('Фрагменты', 'https://gorky.media/fragments/feed/'),
        ('Контекст', 'https://gorky.media/context/feed/'),
        ('Подборки', 'https://gorky.media/books-collection/feed/')
    ]
