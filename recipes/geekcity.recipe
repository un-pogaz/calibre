#!/usr/bin/env python

from calibre.web.feeds.news import BasicNewsRecipe


class GeekCity(BasicNewsRecipe):
    title = 'GeekCity'
    description = 'Портал о комиксах, кино, сериалах, играх, sci-fi и многом другом. Здесь вы всегда сможете найти свежие новости о самых важных событиях в мире гиков, актуальные обзоры, гайды, статьи и многое другое.'  # noqa
    __author__ = 'bugmen00t'
    publisher = 'GeekCity.ru'
    publication_type = 'blog'
    oldest_article = 7
    max_articles_per_feed = 10
    language = 'ru'
    cover_url = 'https://geekcity.ru/wp-content/uploads/2021/03/og.jpg'
    auto_cleanup = False
    no_stylesheets = False

    remove_tags_before = dict(name='article')

    remove_tags_after = dict(name='article')

    remove_tags =   [
        dict(name='div', attrs={'class': 'term-badges floated'}),
        dict(name='div', attrs={'class': 'post-meta single-post-meta'}),
        dict(name='div', attrs={'class': 'post-share single-post-share top-share clearfix style-1'}),
        dict(name='div', attrs={'class': 'post-share single-post-share bottom-share clearfix style-1'}),
        dict(name='div', attrs={'class': 'entry-terms post-tags clearfix'}),
        ]

    feeds = [
        ('Все материалы', 'https://geekcity.ru/feed/'),
        ('Без категории', 'https://geekcity.ru/category/%D0%B1%D0%B5%D0%B7-%D1%80%D1%83%D0%B1%D1%80%D0%B8%D0%BA%D0%B8/feed/'),
        ('Сайт', 'https://geekcity.ru/category/site/'),
        ('Фильмы', 'https://geekcity.ru/category/moviespod/feed/'),
        ('Сериалы', 'https://geekcity.ru/category/tvshow/feed/'),
        ('Комиксы', 'https://geekcity.ru/category/comics-2/feed/'),
        ('Игры', 'https://geekcity.ru/category/games/feed/'),
        ('Техно', 'https://geekcity.ru/category/tech/feed/'),
        ('Шмот', 'https://geekcity.ru/category/shopping/feed/'),
        ('Гайды', 'https://geekcity.ru/category/guides/feed/'),
    ]
