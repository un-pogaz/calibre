#!/usr/bin/env python

from calibre.web.feeds.news import BasicNewsRecipe


class OGRU(BasicNewsRecipe):
    title = 'Old-Games.RU'
    __author__ = 'bugmen00t'
    description = 'Old-Games.RU — крупнейший российский архив старых компьютерных игр. Мы не ставим перед собой цели собрать все игры, что есть в мире, но мы стараемся, чтобы на сайте было представлено большинство шедевров, редкостей и просто интересных проектов прошлых лет. С течением времени графическое и звуковое оформление игр нашего архива заметно устарело, но игровой процесс остался прежним, и порой он гораздо интереснее, чем во многих современных «хитах».'  # noqa
    publisher = 'Old-Games.RU'
    publication_type = 'blog'
    category = 'news, games, retro'
    language = 'ru'
    cover_url = 'https://www.old-games.ru/forum/styles/default/old-games/logo.og.png'
    oldest_article = 50
    max_articles_per_feed = 50
    no_stylesheets = True
    auto_cleanup = False

    remove_tags_before = dict(name='article')

    remove_tags_after = dict(name='article')

    remove_attributes = ['style']

    remove_tags =   [
        dict(name='p', attrs={'id': 'pageDescription'}),
        dict(name='div', attrs={'class': 'pageNavLinkGroup'}),
        dict(name='div', attrs={'class': 'tagBlock TagContainer'}),
        dict(name='div', attrs={'class': 'NoAutoHeader PollContainer'}),
        dict(name='div', attrs={'class': 'likesSummary secondaryContent'}),
        dict(name='div', attrs={'class': 'editDate'}),
        dict(name='div', attrs={'class': 'attachedFiles'}),
        dict(name='div', attrs={'class': 'item muted postNumber hashPermalink OverlayTrigger'}),
        dict(name='div', attrs={'class': 'messageUserInfo'})
        ]

    feeds = [
        ('Новости', 'https://feeds.feedburner.com/Old-games-ru-news'),
        ('Статьи', 'https://feeds.feedburner.com/Old-games-ru-articles')
        ]
