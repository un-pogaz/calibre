#!/usr/bin/env python2


from calibre.web.feeds.news import BasicNewsRecipe


class IdPixel(BasicNewsRecipe):
    title = 'Идеальный пиксель'
    cover_url = 'https://idpixel.ru/i/logo2x.png'
    description = 'Новостной проект о ретро-играх и ретро-технике. Восьмибитные игры, шестнадцатибитные консоли, домашние компьютеры с играми на кассетах и так далее. Мы ищем ретро-новости по всему свету и доносим их до вас.'  # noqa
    publisher = 'Михаил Судаков'
    category = 'news'
    __author__ = 'bugmen00t'
    language = 'ru'
    no_stylesheets = False
    remove_javascript = True
    auto_cleanup = True
    oldest_article = 100
    max_articles_per_feed = 50

    remove_tags_before = dict(name='div', attrs={'class': 'blog-post'})
    remove_tags_after = dict(
        name='div', attrs={'style': 'margin: 20px 0 0 2px;font-size: 16px;'}
    )
    remove_tags = [
        dict(
            name='div', attrs={'class': ' likely__widget likely__widget_vkontakte'}
        ),
        dict(name='div', attrs={'class': ' likely__widget likely__widget_twitter'}),
        dict(name='div', attrs={'class': ' likely__widget likely__widget_facebook'}),
        dict(name='div', attrs={'class': ' likely__widget likely__widget_telegram'}),
        dict(
            name='div',
            attrs={'class': ' likely__widget likely__widget_odnoklassniki'}
        ),
        dict(name='div', attrs={'class': 'comments_input_disabled'}),
        dict(name='div', attrs={'id': 'comments'})
    ]

    feeds = [(
        'Новости',
        'https://idpixel.ru/rss/news.rss'
    )]
