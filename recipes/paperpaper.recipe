#!/usr/bin/env python
# vim:fileencoding=utf-8

from __future__ import absolute_import, division, print_function, unicode_literals

from calibre.web.feeds.news import BasicNewsRecipe


class PaperPaper(BasicNewsRecipe):
    title                 = 'Бумага'
    __author__            = 'bugmen00t'
    description           = 'Издание о прекрасном городе Санкт-Петербурге, в котором, конечно, далеко не всё идеально, — и поэтому мы занимаемся журналистикой, чтобы привлекать внимание к важным для всех проблемам и влиять на их решение.'  # noqa
    publisher             = 'Кирилл Артёменко, Татьяна Иванова'  # noqa
    category              = 'newspaper'
    cover_url = 'https://upload.wikimedia.org/wikipedia/commons/1/1f/Paperpaper_logo.jpg'
    language              = 'ru'
    no_stylesheets        = False
    remove_javascript = False
    auto_cleanup   = False
    oldest_article = 14
    max_articles_per_feed = 50

    remove_tags_before = dict(name='article')

    remove_tags_after = dict(name='article')

    remove_tags =   [
        dict(name='div', attrs={'class': 'bottom-block '}),
        dict(name='div', attrs={'class': 'bottom-block news'})
        ]

    feeds = [
        ('Все материалы', 'https://paperpaper.ru/feed/?service'),
        ('Новости', 'https://paperpaper.ru/category/what/news/feed/'),
        ('Истории', 'https://paperpaper.ru/category/features/feed/'),
        ('Гиды', 'https://paperpaper.ru/category/guides/feed/'),
        ('Список', 'https://paperpaper.ru/tag/%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA/feed/'),
        ('Экспаты', 'https://paperpaper.ru/tag/expat/feed/'),
        ('Истории', 'https://paperpaper.ru/tag/stories/feed/'),
        ('Ответы', 'https://paperpaper.ru/tag/otvety/feed/'),
        ('Путешествия', 'https://paperpaper.ru/tag/traveltravel/feed/'),
        ('Научпоп', 'https://paperpaper.ru/category/main-cats/nauchpop/feed/'),
        ('Военные действия в Украине', 'https://paperpaper.ru/tag/obostrenie-vokrug-ukrainy-2022/feed/'),
        ('Украина', 'https://paperpaper.ru/tag/ukraine/feed/'),
        ('Наука', 'https://paperpaper.ru/tag/science/feed/'),
    ]
